<div class="calculator" data-testid="calculator">
  <div class="calculator-display" data-testid="calculator-display">
    <div class="expression">{{ expression() || '0' }}</div>
    <div class="result" [class.error]="hasError()">
      {{ hasError() ? 'Error' : (result() | number: '1.2-2') }}
    </div>
  </div>

  <div class="calculator-buttons">
    <div class="calculator-row">
      <button
        mat-raised-button
        class="calc-btn secondary"
        (click)="clear()"
        data-testid="clear-btn"
      >
        C
      </button>
      <button
        mat-icon-button
        class="calc-btn secondary"
        (click)="backspace()"
        data-testid="backspace-btn"
      >
        <mat-icon>backspace</mat-icon>
      </button>
      <button
        mat-raised-button
        class="calc-btn operator"
        (click)="addOperation('(')"
        data-testid="open-paren-btn"
      >
        (
      </button>
      <button
        mat-raised-button
        class="calc-btn operator"
        (click)="addOperation(')')"
        data-testid="close-paren-btn"
      >
        )
      </button>
    </div>

    <div class="calculator-row">
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('7')"
        data-testid="num-7-btn"
      >
        7
      </button>
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('8')"
        data-testid="num-8-btn"
      >
        8
      </button>
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('9')"
        data-testid="num-9-btn"
      >
        9
      </button>
      <button
        mat-raised-button
        class="calc-btn operator"
        (click)="addOperation('/')"
        data-testid="divide-btn"
      >
        รท
      </button>
    </div>

    <div class="calculator-row">
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('4')"
        data-testid="num-4-btn"
      >
        4
      </button>
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('5')"
        data-testid="num-5-btn"
      >
        5
      </button>
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('6')"
        data-testid="num-6-btn"
      >
        6
      </button>
      <button
        mat-raised-button
        class="calc-btn operator"
        (click)="addOperation('*')"
        data-testid="multiply-btn"
      >
        ร
      </button>
    </div>

    <div class="calculator-row">
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('1')"
        data-testid="num-1-btn"
      >
        1
      </button>
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('2')"
        data-testid="num-2-btn"
      >
        2
      </button>
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('3')"
        data-testid="num-3-btn"
      >
        3
      </button>
      <button
        mat-raised-button
        class="calc-btn operator"
        (click)="addOperation('-')"
        data-testid="subtract-btn"
      >
        -
      </button>
    </div>

    <div class="calculator-row">
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('0')"
        data-testid="num-0-btn"
      >
        0
      </button>
      <button
        mat-raised-button
        class="calc-btn number"
        (click)="addNumber('.')"
        data-testid="decimal-btn"
      >
        .
      </button>
      <button
        mat-raised-button
        class="calc-btn primary"
        (click)="useResult()"
        data-testid="equals-btn"
      >
        =
      </button>
      <button
        mat-raised-button
        class="calc-btn operator"
        (click)="addOperation('+')"
        data-testid="add-btn"
      >
        +
      </button>
    </div>

  </div>
</div>
