<h1 mat-dialog-title data-testid="payment-dialog-title">Record Payment</h1>
<mat-dialog-content data-testid="payment-dialog-content">
  @if (
    !!data.venmoId || !!data.paypalId || !!data.cashAppId || !!data.zelleId
  ) {
    <p data-testid="payment-instructions">
      You can pay {{ data.payToMemberName }} with any of the following methods:
      <br />
      (Clicking a link will also copy the user ID to your clipboard.)
    </p>
    <ul style="list-style-type: none" class="grid-list" data-testid="payment-methods-list">
      @if (data.venmoId !== '') {
        <li>
          <a
            href="https://www.venmo.com"
            target="_blank"
            (click)="copyPaymentIdToClipboard(data.venmoId)"
            data-testid="venmo-link"
            aria-label="Pay with Venmo and copy ID"
            >Venmo</a
          >:
          {{ data.venmoId }}
          <mat-icon
            matTooltip="Copy Venmo ID"
            (click)="copyPaymentIdToClipboard(data.venmoId)"
            data-testid="copy-venmo-id-button"
            aria-label="Copy Venmo ID to clipboard"
            >content_copy</mat-icon
          >
        </li>
      }
      @if (data.paypalId !== '') {
        <li>
          <a
            href="https://www.paypal.com"
            target="_blank"
            (click)="copyPaymentIdToClipboard(data.paypalId)"
            data-testid="paypal-link"
            aria-label="Pay with PayPal and copy ID"
            >PayPal</a
          >:
          {{ data.paypalId }}
          <mat-icon
            matTooltip="Copy PayPal ID"
            (click)="copyPaymentIdToClipboard(data.paypalId)"
            data-testid="copy-paypal-id-button"
            aria-label="Copy PayPal ID to clipboard"
            >content_copy</mat-icon
          >
        </li>
      }
      @if (data.cashAppId !== '') {
        <li>
          <a
            href="https://cash.app/"
            target="_blank"
            (click)="copyPaymentIdToClipboard(data.cashAppId)"
            data-testid="cashapp-link"
            aria-label="Pay with CashApp and copy ID"
            >CashApp</a
          >:
          {{ data.cashAppId }}
          <mat-icon
            matTooltip="Copy CashApp ID"
            (click)="copyPaymentIdToClipboard(data.cashAppId)"
            data-testid="copy-cashapp-id-button"
            aria-label="Copy CashApp ID to clipboard"
            >content_copy</mat-icon
          >
        </li>
      }
      @if (data.zelleId !== '') {
        <li>
          <a
            href="https://www.zellepay.com"
            target="_blank"
            (click)="copyPaymentIdToClipboard(data.zelleId)"
            data-testid="zelle-link"
            aria-label="Pay with Zelle and copy ID"
            >Zelle</a
          >:
          {{ data.zelleId }}
          <mat-icon
            matTooltip="Copy Zelle ID"
            (click)="copyPaymentIdToClipboard(data.zelleId)"
            data-testid="copy-zelle-id-button"
            aria-label="Copy Zelle ID to clipboard"
            >content_copy</mat-icon
          >
        </li>
      }
    </ul>
  } @else {
    @let name = data.payToMemberName;
    <p data-testid="no-payment-methods-message">
      {{ name }} does not have any saved payment service IDs. Please reach out
      to {{ name }} find out how to pay them. You can email {{ name }} from the
      Members page.
    </p>
  }
  <p data-testid="payment-completion-instructions">
    After completing payment, return here and click Submit to record the
    payment.
  </p>
</mat-dialog-content>
<mat-dialog-actions data-testid="payment-dialog-actions">
  <button
    mat-raised-button
    class="btn-secondary"
    type="button"
    [mat-dialog-close]="true"
    data-testid="submit-payment-button"
    aria-label="Submit payment record"
  >
    Submit
  </button>
  <button mat-stroked-button type="button" [mat-dialog-close]="false" data-testid="cancel-payment-button" aria-label="Cancel payment recording">
    Cancel
  </button>
</mat-dialog-actions>
