<div class="content">
    <div class="row d-flex justify-content-center mt-2">
        <div class="col-6 d-flex justify-content-end">
            <mat-form-field id="group-select" color="primary">
                <mat-label>Select Group</mat-label>
                <mat-select [(ngModel)]="selectedGroupId" name="group" (selectionChange)="onSelectGroup($event)">
                    @for (group of groups$ | async; track group) {
                    <mat-option [value]="group.id">{{group.name}}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-6 d-flex justify-content-start">
            <button type="button" class="btn btn-primary ms-2 me-2" (click)="addGroup()">Create New
                Group</button>
            <button type="button" class="btn btn-secondary" (click)="joinGroup()">Join Group</button>
        </div>
    </div>
    <div class="row d-flex justify-content-center">
        <div class="col-lg-9 col-md-12">
            <div *ngIf="!!selectedGroupId" id="group-details">
                <div class="center-text">
                    <span id="join-code" matTooltip="Click to copy group join code" (click)="copyGroupCode()">
                        Group join code: {{selectedGroupId}}
                    </span>
                </div>
                <mat-tab-group>
                    <mat-tab label="Members">
                        <app-members [groupId]="selectedGroupId" [currentUser]="currentUser"
                            [isGroupAdmin]="isGroupAdmin"></app-members>
                    </mat-tab>
                    <mat-tab label="Categories">
                        <app-categories [groupId]="selectedGroupId" [isGroupAdmin]="isGroupAdmin"></app-categories>
                    </mat-tab>
                    <mat-tab label="Expenses">
                        <app-expenses [groupId]="selectedGroupId" [currentMember]="currentMember"
                            [isGroupAdmin]="isGroupAdmin" [expensesChanged]="expensesChanged"></app-expenses>
                    </mat-tab>
                    <mat-tab label="Summary">
                        <app-summary [groupId]="selectedGroupId" [isGroupAdmin]="isGroupAdmin"
                            (expensesPaidEvent)="expensesPaid($event)"></app-summary>
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </div>
</div>