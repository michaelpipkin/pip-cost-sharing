<mat-toolbar>
  <mat-toolbar-row>
    @if (isSmallScreen()) {
      <button mat-icon-button [matMenuTriggerFor]="menu">
        <mat-icon fontSet="material-symbols-outlined">menu</mat-icon>
      </button>
    }
    <span id="title">PipSplit</span>
    @if (!isSmallScreen()) {
      @if (isLoggedIn()) {
        <div class="links">
          <a mat-button routerLink="groups" aria-label="groups" title="Groups">
            <mat-icon fontSet="material-symbols-outlined">groups</mat-icon
            >&nbsp;Groups
          </a>
          @if (currentGroup() != null) {
            <a
              mat-button
              routerLink="members"
              aria-label="members"
              title="Members"
            >
              <mat-icon fontSet="material-symbols-outlined">face</mat-icon
              >&nbsp;Members
            </a>
            <a
              mat-button
              routerLink="categories"
              aria-label="categories"
              title="Categories"
            >
              <mat-icon fontSet="material-symbols-outlined">category</mat-icon
              >&nbsp;Categories
            </a>
            <a
              mat-button
              routerLink="expenses"
              aria-label="expenses"
              title="Expenses"
            >
              <mat-icon fontSet="material-symbols-outlined"
                >attach_money</mat-icon
              >Expenses
            </a>
            <a
              mat-button
              routerLink="memorized"
              aria-label="memorized"
              title="Memorized"
            >
              <mat-icon fontSet="material-symbols-outlined"
                >currency_exchange</mat-icon
              >&nbsp;Memorized
            </a>
            <a
              mat-button
              routerLink="summary"
              aria-label="summary"
              title="Summary"
            >
              <mat-icon fontSet="material-symbols-outlined"
                >compare_arrows</mat-icon
              >&nbsp;Summary
            </a>
            <a
              mat-button
              routerLink="history"
              aria-label="history"
              title="History"
            >
              <mat-icon fontSet="material-symbols-outlined">receipt</mat-icon
              >&nbsp;History
            </a>
          }
        </div>
      }
      <div class="account links">
        @if (isLoggedIn()) {
          <a routerLink="help" aria-label="help" matTooltip="Help">
            <mat-icon fontSet="material-symbols-outlined">help</mat-icon>
          </a>
          <a routerLink="account" aria-label="account" matTooltip="Account">
            <mat-icon fontSet="material-symbols-outlined"
              >account_circle</mat-icon
            >
          </a>
          <a (click)="logout()" aria-label="log out" matTooltip="Log out">
            <mat-icon fontSet="material-symbols-outlined">logout</mat-icon>
          </a>
        } @else {
          <a
            mat-button
            routerLink="login"
            aria-label="log in"
            matTooltip="Log in"
          >
            <mat-icon fontSet="material-symbols-outlined">login</mat-icon>
            <span>Log in</span>
          </a>
        }
      </div>
    }
  </mat-toolbar-row>
</mat-toolbar>

<mat-menu #menu="matMenu">
  <div class="menu">
    @if (isLoggedIn()) {
      <a mat-menu-item routerLink="groups" aria-label="groups" title="Groups">
        <mat-icon fontSet="material-symbols-outlined">groups</mat-icon
        >&nbsp;Groups
      </a>
      @if (currentGroup() != null) {
        <a
          mat-menu-item
          routerLink="members"
          aria-label="members"
          title="Members"
        >
          <mat-icon fontSet="material-symbols-outlined">face</mat-icon
          >&nbsp;Members
        </a>
        <a
          mat-menu-item
          routerLink="categories"
          aria-label="categories"
          title="Categories"
        >
          <mat-icon fontSet="material-symbols-outlined">category</mat-icon
          >&nbsp;Categories
        </a>
        <a
          mat-menu-item
          routerLink="expenses"
          aria-label="expenses"
          title="Expenses"
        >
          <mat-icon fontSet="material-symbols-outlined">attach_money</mat-icon
          >Expenses
        </a>
        <a
          mat-menu-item
          routerLink="memorized"
          aria-label="memorized"
          title="Memorized"
        >
          <mat-icon fontSet="material-symbols-outlined"
            >currency_exchange</mat-icon
          >&nbsp;Memorized
        </a>
        <a
          mat-menu-item
          routerLink="summary"
          aria-label="summary"
          title="Summary"
        >
          <mat-icon fontSet="material-symbols-outlined">compare_arrows</mat-icon
          >&nbsp;Summary
        </a>
        <a
          mat-menu-item
          routerLink="history"
          aria-label="history"
          title="History"
        >
          <mat-icon fontSet="material-symbols-outlined">receipt</mat-icon
          >&nbsp;History
        </a>
      }
      <a mat-menu-item routerLink="help" aria-label="help" title="Help">
        <mat-icon fontSet="material-symbols-outlined">help</mat-icon>&nbsp;Help
      </a>
      <a
        mat-menu-item
        routerLink="account"
        aria-label="account"
        title="Account"
      >
        <mat-icon fontSet="material-symbols-outlined">account_circle</mat-icon
        >&nbsp;Account
      </a>
      <a mat-menu-item (click)="logout()" aria-label="log out" title="Log out">
        <mat-icon fontSet="material-symbols-outlined">logout</mat-icon>&nbsp;Log
        out
      </a>
    } @else {
      <a mat-menu-item routerLink="login" aria-label="log in" title="Log in">
        <mat-icon fontSet="material-symbols-outlined">login</mat-icon>&nbsp;Log
        in
      </a>
    }
  </div>
</mat-menu>
<loading />
<div id="outlet">
  <router-outlet />
</div>
<footer></footer>
